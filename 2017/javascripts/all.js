function Point(t,e){this.x=t,this.y=e}function Rect(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i,this.w=this.width,this.h=this.height}function Triangle(t,e,n){this.a=t,this.b=e,this.c=n;var i,a,s,o,r=e.x-t.x,h=e.y-t.y,c=n.x-t.x,d=n.y-t.y,u=r*(t.x+e.x)+h*(t.y+e.y),l=c*(t.x+n.x)+d*(t.y+n.y),f=2*(r*(n.y-e.y)-h*(n.x-e.x));Math.abs(f)<1e-6?(i=Math.min(t.x,e.x,n.x),a=Math.min(t.y,e.y,n.y),s=.5*(Math.max(t.x,e.x,n.x)-i),o=.5*(Math.max(t.y,e.y,n.y)-a),this.x=i+s,this.y=a+o,this.r=s*s+o*o):(this.x=(d*u-h*l)/f,this.y=(r*l-c*u)/f,s=this.x-t.x,o=this.y-t.y,this.r=s*s+o*o)}function Vector2d(t,e){this.x=t,this.y=e}function Particle(t,e,n){this.mode=0,this.x=t,this.y=e,this.rotation=0,this.alpha=1,this.scale=1,this.force=0,this.deceleration=.9,this.friction=.1,this.speed=1,this.vector=new Vector2d(Static.randomRange(-this.speed,this.speed),Static.randomRange(-this.speed,this.speed)),this.area=n?n:new Rect(0,0,window.innerWidth,window.innerHeight)}function WaveParticle(t,e,n){this.mode=0,this.x=t,this.y=e,this.rotation=0,this.alpha=1,this.scale=1,this.force=80,this.speed=1,this.vector=new Vector2d(Static.randomRange(-this.speed,this.speed),Static.randomRange(-this.speed,this.speed)),this.firstX=t,this.firstY=e,this.sin={},this.sin.max=Static.randomIntRange(300,1e3),this.sin.ar=Static.getSinWave(1,this.sin.max),this.sin.arCos=Static.getCosWave(1,this.sin.max),this.sin.count=Static.randomInt(this.sin.max),this.area=new Rect(0,0,window.innerWidth,window.innerHeight),void 0==n&&(this.area=n)}function Delaunay(t){return this.triangulate(t)}Vector2d.prototype.add=function(t){return new Vector2d(this.x+t.x,this.y+t.y)},Vector2d.prototype.get_angle=function(){return Math.atan2(this.y,this.x)},Particle.prototype.update=function(){this.x+=this.vector.x,this.y+=this.vector.y,this.rotation=this.vector.get_angle()},Particle.prototype.check=function(){(this.x<this.area.x||this.x>this.area.x+this.area.width)&&(this.vector.x*=-1),(this.y<this.area.y||this.y>this.area.y+this.area.height)&&(this.vector.y*=-1)},WaveParticle.prototype.update=function(){this.sin.count+=1,this.sin.count>this.sin.max-1&&(this.sin.count=0),this.x=this.firstX+100*this.sin.arCos[this.sin.count],this.y=this.firstY+this.sin.ar[this.sin.count]*this.force,this.rotation=this.vector.get_angle()},WaveParticle.prototype.refresh=function(t,e,n){this.firstX=t,this.firstY=e,this.area=n},Delaunay.prototype.dedup=function(t){var e,n,i,a,s,o=t.length;t:for(;o;)for(n=t[--o],e=t[--o],i=o;i;)if(s=t[--i],a=t[--i],e===a&&n===s||e===s&&n===a){t.splice(o,2),t.splice(i,2),o-=2;continue t}},Delaunay.prototype.triangulate=function(t){if(t.length<3)return[];t.sort(function(t,e){return e.x-t.x});for(var e=t.length-1,n=t[e].x,i=t[0].x,a=t[e].y,s=a;e--;)t[e].y<a&&(a=t[e].y),t[e].y>s&&(s=t[e].y);var o,r,h,c=i-n,d=s-a,u=c>d?c:d,l=.5*(i+n),f=.5*(s+a),g=[new Triangle({x:l-20*u,y:f-u,__sentinel:!0},{x:l,y:f+20*u,__sentinel:!0},{x:l+20*u,y:f-u,__sentinel:!0})],y=[],p=[];for(e=t.length;e--;){for(p.length=0,o=g.length;o--;)c=t[e].x-g[o].x,c>0&&c*c>g[o].r?(y.push(g[o]),g.splice(o,1)):(d=t[e].y-g[o].y,c*c+d*d>g[o].r||(p.push(g[o].a,g[o].b,g[o].b,g[o].c,g[o].c,g[o].a),g.splice(o,1)));for(this.dedup(p),o=p.length;o;)h=p[--o],r=p[--o],g.push(new Triangle(r,h,t[e]))}for(Array.prototype.push.apply(y,g),e=y.length;e--;)(y[e].a.__sentinel||y[e].b.__sentinel||y[e].c.__sentinel)&&y.splice(e,1);return this.getTriangles(y)},Delaunay.prototype.getTriangles=function(t){for(var e=[],n=t.length;n--;)e.push([t[n].a,t[n].b,t[n].c]);return e};var Static={random:function(t){return Math.random()*t},randomRange:function(t,e){return t+Math.random()*(e-t)},randomInt:function(t){return Math.floor(Math.random()*t)},randomIntRange:function(t,e){return Math.floor(Math.random()*(e-t))+t},randomBit:function(){return Math.random()<.5?1:0},randomSign:function(){return Math.random()<.5?-1:1},getSinWave:function(t,e){for(var n=[],i=0,a=t,s=0,o=e,r=6.2/o,h=0;h<o;h++)i+=r,s=Math.sin(i)*a,n.push(s);return n},getCosWave:function(t,e){for(var n=[],i=0,a=t,s=0,o=e,r=6.2/o,h=0;h<o;h++)i+=r,s=Math.cos(i)*a,n.push(s);return n},getParam:function(t){for(var e=null,n=[],i=location.search.substr(1).split("&"),a=0;a<i.length;a++)n=i[a].split("="),n[0]===t&&(e=decodeURIComponent(n[1]));return e}};!function(t,e,n,i){"use strict";function a(e,n){this.element=e,this.settings=t.extend({},h,n),this._defaults=h,this._name=s,this.init()}var s="typewriter",o="."+s,r={ACTION:"action"+o,SHOWN:"shown"+o},h={isRandom:!1,delay:30,target:null,randomStrings:"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-/^!?&%$#+*",randomCount:5};t.extend(a.prototype,{init:function(){var e=t(this.element);e.attr("data-text")!=i?this.settings.targetText=e.attr("data-text"):this.settings.targetText=t(this.element).text(),e.text(""),this.settings.countMax=this.settings.targetText.length,this.settings.count=0,e.attr("data-random")!=i&&(this.settings.isRandom=!0)},action:function(){var e=t(this.element);e.text(""),this.settings.count=-1,e.trigger(t.Event(r.ACTION)),this.update()},quick:function(){t(this.element).text(this.settings.targetText)},update:function(){var e=t(this.element),n=this.settings,i=this;if(n.count++,n.isRandom){for(var a="",s=0;s<Math.max(n.count-n.randomCount,0);s++)a+=n.targetText[s];var o=Math.min(n.count,n.randomCount);o=Math.min(n.countMax-n.count+n.randomCount-1,o);for(var s=0;s<o;s++){a+=n.randomStrings.substr(this.randomInt(n.randomStrings.length-1),1)}n.count>n.countMax+n.randomCount?(clearInterval(n.timer),e.trigger(t.Event(r.SHOWN))):(e.text(a),setTimeout(function(){i.update(i)},this.settings.delay))}else n.count>n.countMax?(clearInterval(n.timer),e.trigger(t.Event(r.SHOWN))):(e.text(n.targetText.substring(0,n.count)),setTimeout(function(){i.update(i)},this.settings.delay))},randomInt:function(t){return Math.floor(Math.random()*t)}}),t.fn[s]=function(e){return this.each(function(){t.data(this,s)||t.data(this,s,new a(this,e))})},t(function(){t("[data-typewriter]").typewriter()})}(jQuery,window,document),function(){var t="strokeanimation";$[t]=function(t,e){var n={pluginName:"strokeanimation",color:null,loop:!0,autoStart:!1,interval:3e3,second:"1s"},i=this;i.settings={};var a=$(t),t=t;i.init=function(){i.settings=$.extend({},n,e),i.items=e.items,i.start()},i.start=function(){a.find("path").each(function(t,e){e.setAttribute("stroke-dashoffset","0"),i.settings.color&&(e.attributes.getNamedItem("stroke").nodeValue=i.settings.color)}),a.find("circle").each(function(t,e){e.setAttribute("stroke-dashoffset","0"),i.settings.color&&(e.attributes.getNamedItem("stroke").nodeValue=i.settings.color)}),i.settings.autoStart&&i.enter(),i.settings.loop&&setInterval(i.enter,i.settings.interval)},i.enter=function(){var e;t.style.display="block",a.find("path").each(function(t,n){n.style.transition=n.style.WebkitTransition="none",e=n.getTotalLength(),n.style.strokeDasharray=e+" "+e,n.style.strokeDashoffset=e,n.getBoundingClientRect(),n.style.transition=n.style.WebkitTransition="stroke-dashoffset "+i.settings.second+" ease-in-out",n.style.strokeDashoffset="0"}),a.find("circle").each(function(t,n){n.style.transition=n.style.WebkitTransition="none",e=10*n.attributes.getNamedItem("r").nodeValue,n.style.strokeDasharray=e+" "+e,n.style.strokeDashoffset=e,n.getBoundingClientRect(),n.style.transition=n.style.WebkitTransition="stroke-dashoffset "+i.settings.second+" ease-in-out",n.style.strokeDashoffset="0"})},i.init()},$.fn[t]=function(e){return e||(e={}),e.items=[],this.each(function(n){if(e.id=n,e.items.push($(this)),void 0==$(this).data(t)){var i=new $[t](this,e);$(this).data(t,i)}})}}(jQuery),$(function(){function t(){if(f)return!1;try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(t){return!1}}function e(){var t=new PIXI.Application(window.innerWidth,window.innerHeight,{antialias:!0,transparent:!1,resolution:1});return t.renderer.backgroundColor=16774122,t.renderer.view.style.position="fixed",t.renderer.view.style.top=0,t.renderer.view.style.left=0,t.renderer.view.style.display="block",t.renderer.view.style.zIndex=-1,t.renderer.autoResize=!0,document.body.appendChild(t.view),t}function n(t,e){for(var n=t,i=[],a=0;a<n;a++){var s=new WaveParticle(Math.floor(a*(e.width/(n-1)))+e.x,Static.randomInt(e.height)+e.y,e);i.push(s)}return i}function a(t,e){for(var n=0;n<t.length;n++){t[n].refresh(Math.floor(n*(e.width/(t.length-1)))+e.x,Static.randomInt(e.height)+e.y,e)}return t}function s(t){var e=100;return new Rect(-e,t,window.innerWidth+2*e,0)}function o(t){var e=50,n=[];return n.push(new Point(t.x,t.y-e)),n.push(new Point(t.x+t.w,t.y-e)),n.push(new Point(t.x,t.y+e)),n.push(new Point(t.x+t.w,t.y+e)),n}function r(t,e,i){var a={};return a.graphic=new PIXI.Graphics,a.color=e,a.area=s(i),a.areaEdgePoints=o(a.area),a.particles=n(20,a.area),a.graphic.blendMode=PIXI.BLEND_MODES.MULTIPLY,t.stage.addChild(a.graphic),a}function h(t,e){return t.area=s(e),t.areaEdgePoints=o(t.area),t.particles=a(t.particles,t.area),t}function c(t){var e="/2017/images/top/seigaiha.png",n=new PIXI.extras.TilingSprite(PIXI.Texture.fromImage(e),window.innerWidth,window.innerHeight);return n.alpha=.5,n.blendMode=PIXI.BLEND_MODES.OVERLAY,t.stage.addChild(n),n}function d(t){var e=t.particles,n=t.graphic,a=(t.area,t.areaEdgePoints),s=t.color;u(e),n.clear(),n.lineStyle(0),n.beginFill(s,1);var o=new Delaunay(e.concat(a));for(i=0;i<o.length;i++){var r=o[i];n.moveTo(r[0].x,r[0].y),n.lineTo(r[1].x,r[1].y),n.lineTo(r[2].x,r[2].y),n.lineTo(r[0].x,r[0].y)}n.endFill()}function u(t){for(var e=0;e<t.length;e++){t[e].update()}}function l(t,e){var n;return function(){clearTimeout(n),n=setTimeout(function(){t.call()},e)}}if(0!=$("body#home").length){var f=!1;if("#quick"==location.hash&&(f=!0),t()){var g=e(),y=[],p=c(g);f||(y.push(r(g,9158889,window.innerHeight+20)),y.push(r(g,12966106,window.innerHeight))),g.ticker.add(function(){for(var t=0;t<y.length;t++){d(y[t])}}),$(window).on("resize",l(function(){var t=window.innerWidth,e=window.innerHeight;g.renderer.view.style.width=t+"px",g.renderer.view.style.height=e+"px",g.renderer.resize(t,e),p.width=t,p.height=e,h(y[0],e+20),h(y[1],e-20)},300))}else $("body").addClass("no-webGL")}}),$(function(){function t(){location.hash="#quick",setTimeout(function(){location.reload(!0)},100)}function e(t){var e=$("[data-svg-animation]").eq(t).find("svg");e.css({display:"block"}),e.data("strokeanimation").enter()}function n(){window.location.hash&&($('.nav-tabs a[href="'+window.location.hash+'"]').tab("show"),$(window).scrollTop(0))}if(0!=$("body#home").length){var i=!1;"#quick"==location.hash&&(i=!0),$("[data-typewriter]").each(function(t,e){$(e).css({display:"block"})}),$("[data-svg-animation]").each(function(t,e){var n="1s";i&&(n="0");var a=$(e).find("svg");a.strokeanimation({interval:5e3,loop:!1,autoStart:!1,color:"#5e5e5e",second:n}),a.css({display:"none"})}),i?($("[data-svg-animation]").each(function(t){e(t)}),$("[data-typewriter]").each(function(t,e){$(e).data("typewriter").quick()}),$(".header").addClass("is-static"),$(".wave").addClass("is-open is-quick"),$("canvas").css({display:"none"}),$("body").addClass("is-open is-quick"),$(".ruby").addClass("is-open is-quick"),$(".js-open").addClass("is-open is-quick")):(setTimeout(function(){e(0)},30),setTimeout(function(){e(4)},1e3),setTimeout(function(){$("[data-typewriter]").eq(0).data("typewriter").action(),$("[data-typewriter]").eq(1).data("typewriter").action()},1300),setTimeout(function(){e(1),e(2),e(3),e(5),e(6),$(".wave").addClass("is-open")},1600),setTimeout(function(){$(".header").addClass("is-open"),$("canvas").addClass("is-open"),$("body").addClass("is-open"),$(".js-open").addClass("is-open")},6e3),setTimeout(function(){$(".ruby").addClass("is-open"),$(document).off("click touchend","body",t)},7e3),$(document).on("click touchend","body",t))}else $("body").addClass("is-open");"ontouchstart"in window?$(document).on("touchend",".has-hamburger",function(t){$(t.target).closest(".header__nav").length||$("#hamburger").collapse("hide")}):$(document).on("click",".has-hamburger",function(t){$(t.target).closest(".header__nav").length||$("#hamburger").collapse("hide")}),$("#hamburger").on("show.bs.collapse",function(){$("body").addClass("has-hamburger")}),$("#hamburger").on("hide.bs.collapse",function(){$("body").removeClass("has-hamburger")}),0==$("body#schedule").length&&0==$("body#policies").length||history.pushState&&($(window).on("hashchange",n),n(),$(".nav-tabs a").on("shown.bs.tab",function(t){history.pushState("change",null,t.target.hash)}))});