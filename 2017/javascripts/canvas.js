$(function(){function e(){if(s)return!1;try{return!!window.WebGLRenderingContext&&!!document.createElement("canvas").getContext("experimental-webgl")}catch(e){return!1}}function n(){var e=new PIXI.Application(window.innerWidth,window.innerHeight,{antialias:!0,transparent:!1,resolution:1});return e.renderer.backgroundColor=16774122,e.renderer.view.style.position="fixed",e.renderer.view.style.top=0,e.renderer.view.style.left=0,e.renderer.view.style.display="block",e.renderer.view.style.zIndex=-1,e.renderer.autoResize=!0,document.body.appendChild(e.view),e}function r(e,n){for(var r=e,i=[],t=0;t<r;t++){var a=new WaveParticle(Math.floor(t*(n.width/(r-1)))+n.x,Static.randomInt(n.height)+n.y,n);i.push(a)}return i}function t(e,n){for(var r=0;r<e.length;r++){e[r].refresh(Math.floor(r*(n.width/(e.length-1)))+n.x,Static.randomInt(n.height)+n.y,n)}return e}function a(e){var n=100,r=e;return new Rect(-n,r,window.innerWidth+2*n,0)}function o(e){var n=50,r=[];return r.push(new Point(e.x,e.y-n)),r.push(new Point(e.x+e.w,e.y-n)),r.push(new Point(e.x,e.y+n)),r.push(new Point(e.x+e.w,e.y+n)),r}function d(e,n,i){var t={};return t.graphic=new PIXI.Graphics,t.color=n,t.area=a(i),t.areaEdgePoints=o(t.area),t.particles=r(20,t.area),t.graphic.blendMode=PIXI.BLEND_MODES.MULTIPLY,e.stage.addChild(t.graphic),t}function l(e,n){return e.area=a(n),e.areaEdgePoints=o(e.area),e.particles=t(e.particles,e.area),e}function h(e){var n="/2017/images/top/seigaiha.png",r=new PIXI.extras.TilingSprite(PIXI.Texture.fromImage(n),window.innerWidth,window.innerHeight);return r.alpha=.5,r.blendMode=PIXI.BLEND_MODES.OVERLAY,e.stage.addChild(r),r}function c(e){var n=e.particles,r=e.graphic,t=(e.area,e.areaEdgePoints),a=e.color;w(n),r.clear(),r.lineStyle(0),r.beginFill(a,1);var o=new Delaunay(n.concat(t));for(i=0;i<o.length;i++){var d=o[i];r.moveTo(d[0].x,d[0].y),r.lineTo(d[1].x,d[1].y),r.lineTo(d[2].x,d[2].y),r.lineTo(d[0].x,d[0].y)}r.endFill()}function w(e){for(var n=0;n<e.length;n++){e[n].update()}}function u(e,n){var r;return function(){clearTimeout(r),r=setTimeout(function(){e.call()},n)}}if(0!=$("body#home").length){var s=!1;if("#quick"==location.hash&&(s=!0),e()){var g=n(),p=[],f=h(g);s||(p.push(d(g,9158889,window.innerHeight+20)),p.push(d(g,12966106,window.innerHeight))),g.ticker.add(function(){for(var e=0;e<p.length;e++){c(p[e])}}),$(window).on("resize",u(function(){var e=window.innerWidth,n=window.innerHeight;g.renderer.view.style.width=e+"px",g.renderer.view.style.height=n+"px",g.renderer.resize(e,n),f.width=e,f.height=n,l(p[0],n+20),l(p[1],n-20)},300))}else $("body").addClass("no-webGL")}});